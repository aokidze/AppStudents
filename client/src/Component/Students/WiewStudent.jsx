import React, { useEffect, useState } from 'react';
function Students() {
  const [data, setData] = useState([]);
  const [currentStudent, setCurrentStudent] = useState(null);
  const [index, setIndex] = useState(0);


  useEffect(() => {
    fetch('http://localhost:5000/Students')
      .then(response => response.json())
      .then(data => {
        setData(data);
        setCurrentStudent(data[0]);
      })
      .catch(error => console.error(error));
  }, []);
  const handleNextStudent = () => {
    if (index < data.length - 1) {
      setIndex(index + 1);
      setCurrentStudent(data[index + 1]);
    }
  };

  const handlePrevStudent = () => {
    if (index > 0) {
      setIndex(index - 1);
      setCurrentStudent(data[index - 1]);
    }
  };



    return ( 
    <div className='Students'>

    <div style={{display: "flex", justifyContent: "center", alignItems: "center", height: "100%"}}>
      <div className='card-info'>
                      <div className="HeadCard">  
                        <div className='Avatar-circle'>
                            <svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M69.9 25.2002L65.46 19.2002C65.1744 18.8194 64.8024 18.512 64.3749 18.3033C63.9471 18.0947 63.4758 17.9908 63 18.0002H33.6C33.1665 18.0002 32.7384 18.094 32.3448 18.2753C31.9512 18.4566 31.6017 18.7209 31.32 19.0502L26.1599 25.0502C25.7168 25.602 25.483 26.2927 25.4999 27.0002V48.8703C25.5079 54.0951 27.587 59.1039 31.2816 62.7984C34.9764 66.4932 39.9849 68.5722 45.21 68.5803H50.79C56.0148 68.5722 61.0236 66.4932 64.7184 62.7984C68.4129 59.1039 70.4919 54.0951 70.5 48.8703V27.0002C70.5 26.3511 70.2894 25.7195 69.9 25.2002Z" fill="#FFCC80"/>
                                <path d="M89.3399 85.14L77.3399 70.14C76.9919 69.6963 76.5257 69.3594 75.9953 69.1686C75.4646 68.9775 74.891 68.94 74.3399 69.06L47.9999 75L21.6599 69C21.1089 68.88 20.5351 68.9175 20.0045 69.1086C19.4739 69.2994 19.0079 69.6363 18.6599 70.08L6.6599 85.08C6.31169 85.5192 6.09341 86.0469 6.02978 86.6037C5.96615 87.1602 6.05972 87.7239 6.2999 88.23C6.53438 88.7517 6.91313 89.1957 7.39148 89.5092C7.86986 89.8227 8.42792 89.9931 8.9999 90H86.9999C87.5654 89.9985 88.1189 89.8371 88.5965 89.5344C89.0741 89.232 89.4566 88.8006 89.6999 88.29C89.9399 87.7839 90.0335 87.2202 89.9699 86.6637C89.9063 86.1069 89.6882 85.5792 89.3399 85.14Z" fill="#01579B"/>
                                <path d="M87.8699 18.0001L48.8699 6.0001C48.2996 5.85007 47.7002 5.85007 47.1299 6.0001L8.12993 18.0001C7.49219 18.1927 6.93671 18.5921 6.55103 19.1352C6.16538 19.6784 5.97149 20.3345 5.99993 21.0001C5.97503 21.6734 6.17753 22.3355 6.57482 22.8798C6.97208 23.424 7.54103 23.8186 8.18993 24.0001L47.1899 34.8C47.7179 34.9602 48.2819 34.9602 48.8099 34.8L87.8099 24.0001C88.4588 23.8186 89.0276 23.424 89.4251 22.8798C89.8223 22.3355 90.0248 21.6734 89.9999 21.0001C90.0284 20.3345 89.8343 19.6784 89.4488 19.1352C89.063 18.5921 88.5077 18.1927 87.8699 18.0001Z" fill="#01579B"/>
                                <path d="M33.66 18C33.2268 18 32.7984 18.0938 32.4048 18.2751C32.0112 18.4563 31.6617 18.7207 31.38 19.05L26.22 25.05C25.7553 25.5934 25.4999 26.285 25.5 27V48.87C25.5079 54.0951 27.5871 59.1036 31.2816 62.7984C34.9764 66.4929 39.9849 68.5722 45.21 68.58H48V18H33.66Z" fill="#FFE0B2"/>
                                <path d="M21.6599 69C21.1089 68.88 20.5351 68.9175 20.0045 69.1086C19.4739 69.2994 19.0079 69.6363 18.6599 70.08L6.6599 85.08C6.31169 85.5192 6.09341 86.0469 6.02978 86.6037C5.96615 87.1602 6.05972 87.7239 6.2999 88.23C6.53438 88.7517 6.91313 89.1957 7.39148 89.5092C7.86986 89.8227 8.42792 89.9931 8.9999 90H47.9999V75L21.6599 69Z" fill="#0277BD"/>
                                <path d="M47.1299 6.00007L8.12993 18.0001C7.49219 18.1927 6.93671 18.592 6.55103 19.1352C6.16538 19.6784 5.97149 20.3345 5.99993 21.0001C5.97503 21.6734 6.17753 22.3355 6.57482 22.8797C6.97208 23.424 7.54103 23.8186 8.18993 24.0001L47.1899 34.8C47.4581 34.8438 47.7317 34.8438 47.9999 34.8V6.00007C47.7116 5.95408 47.4182 5.95408 47.1299 6.00007Z" fill="#0277BD"/>
                                <path d="M8.18993 24.0001L25.4999 28.6801V48.87C25.5078 54.0951 27.587 59.1039 31.2815 62.7984C34.9763 66.4929 39.9848 68.5722 45.2099 68.58H50.7899C56.015 68.5722 61.0235 66.4929 64.7183 62.7984C68.4128 59.1039 70.4921 54.0951 70.4999 48.87V28.6801L87.8099 24.0001C88.4588 23.8186 89.0276 23.424 89.4251 22.8798C89.8223 22.3355 90.0248 21.6734 89.9999 21.0001C90.0284 20.3345 89.8343 19.6784 89.4488 19.1352C89.063 18.5921 88.5077 18.1927 87.8699 18.0001L48.8699 6.0001C48.2996 5.85007 47.7002 5.85007 47.1299 6.0001L8.12993 18.0001C7.49219 18.1927 6.93671 18.5921 6.55103 19.1352C6.16538 19.6784 5.97149 20.3345 5.99993 21.0001C5.97503 21.6734 6.17753 22.3355 6.57482 22.8798C6.97208 23.424 7.54103 23.8186 8.18993 24.0001ZM64.4999 48.87C64.4921 52.5039 63.0449 55.9863 60.4757 58.5558C57.9062 61.1253 54.4235 62.5722 50.7899 62.58H45.2099C41.5763 62.5722 38.0936 61.1253 35.5241 58.5558C32.9549 55.9863 31.5077 52.5039 31.4999 48.87V30.33L47.1899 34.68C47.7179 34.8402 48.2819 34.8402 48.8099 34.68L64.4999 30.33V48.87ZM47.9999 12.1501L76.3199 21.0001L47.9999 28.6801L19.6799 21.0001L47.9999 12.1501Z" fill="#263238"/>
                                <path d="M77.3399 70.14C76.9919 69.6963 76.5257 69.3594 75.9953 69.1686C75.4646 68.9775 74.891 68.94 74.3399 69.06L47.9999 75L21.6599 69C21.1089 68.88 20.5351 68.9175 20.0045 69.1086C19.4739 69.2994 19.0079 69.6363 18.6599 70.08L6.6599 85.08C6.31169 85.5192 6.09341 86.0469 6.02978 86.6037C5.96615 87.1602 6.05972 87.7239 6.2999 88.23C6.53438 88.7517 6.91313 89.1957 7.39148 89.5092C7.86986 89.8227 8.42792 89.9931 8.9999 90H86.9999C87.5654 89.9985 88.1189 89.8371 88.5965 89.5344C89.0741 89.232 89.4566 88.8006 89.6999 88.29C89.9399 87.7839 90.0335 87.2202 89.9699 86.6637C89.9063 86.1069 89.6882 85.5792 89.3399 85.14L77.3399 70.14ZM15.2399 84L22.1699 75.33L47.3399 81C47.7752 81.0897 48.2243 81.0897 48.6599 81L73.8299 75.39L80.7599 84H15.2399Z" fill="#263238"/>
                              </svg>

                            </div>
                        {currentStudent && (
                        <div style={{display:"flex", flexDirection: "column"}}>
                        <td className="i1">{currentStudent.Code_Grade_Book}</td>
                        <td className="i2">{currentStudent.FullName}</td>
                        </div>

                      )}
                      </div>
                      
                      <div className='information-table'>
                        <table className='custom-table'>
                          <thead>
                            <tr>
                              <th>Группа</th>
                              <th>Курс</th>
                              <th>Куратор</th>
                              <th>Телефон</th>
                            </tr>
                          </thead>
                          
                            <tbody>
                              <tr>
                                <td>{currentStudent && currentStudent.Student_group}</td>
                                <td>{currentStudent && currentStudent.Course}</td>
                                <td>{currentStudent && currentStudent.Curator}</td>
                                <td>{currentStudent && currentStudent.Phone}</td>
                              </tr>
                            </tbody>
                        </table>
                      </div>
                      <div className='button-container'>
                      <button className="left" onClick={handlePrevStudent}>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z" fill="#333"/>
                          </svg>
                        </button>
                   <button className="right" onClick={handleNextStudent}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.02 6L8.61 7.41 13.19 12l-4.58 4.59 1.41 1.41L15.82 12l-5.18-5.18z" fill="#333"/>
                            </svg>
                    </button> 
                    </div>
      </div>
    </div>
    
</div> );
}

export default Students;